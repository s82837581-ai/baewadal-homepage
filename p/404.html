<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redirecting...</title>
  <script>
    (function () {
      const path = window.location.pathname;
      const search = window.location.search;

      // 이미 쿼리 파라미터 방식이면 절대 리다이렉트 X
      if (search && search.includes("id=")) {
        return; // 정상 페이지로 이동
      }

      // /p/{priceListId} → /p/?id={priceListId}
      const match = path.match(/\/p\/([^\/]+)/);
      if (match && match[1]) {
        const priceListId = match[1].replace('.html', '');
        if (priceListId !== 'index') {
          const newUrl = `/p/?id=${priceListId}`;
          window.location.replace(newUrl);
          return;
        }
      }

      // 그 외는 /p/index.html 로 이동
      window.location.replace('/p/');
    })();
  </script>
</head>
<body>
  <div style="text-align: center; padding: 50px; font-family: sans-serif;">
    <h1>Redirecting...</h1>
    <p>잠시만 기다려주세요...</p>
  </div>
</body>
</html>
